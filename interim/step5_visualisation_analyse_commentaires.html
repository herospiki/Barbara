
    <html>
    <head>
        <title>Analyse Commentaires - Barbara</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
        <style>
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                background-color: #f4f7f6;
                margin: 0;
                padding: 0;
            }
            .header {
                background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);
                color: white;
                padding: 50px 20px;
                text-align: center;
                box-shadow: 0 4px 12px rgba(0,0,0,0.1);
                margin-bottom: 30px;
            }
            .container { max-width: 1300px; }
            .card {
                background: white;
                border: none;
                border-radius: 15px;
                box-shadow: 0 5px 20px rgba(0,0,0,0.05);
                margin-bottom: 30px;
                padding: 25px;
            }
            h1 { font-weight: 800; letter-spacing: -1px; }
            h2 { color: #27ae60; font-weight: 700; margin-bottom: 20px; border-left: 5px solid #27ae60; padding-left: 15px; }
            .stat-card {
                background: #fff;
                padding: 20px;
                border-radius: 12px;
                text-align: center;
                border-bottom: 4px solid #27ae60;
                margin-bottom: 20px;
            }
            .stat-value { font-size: 2.2rem; font-weight: 800; color: #27ae60; }
            .stat-label { color: #7f8c8d; text-transform: uppercase; font-size: 0.8rem; letter-spacing: 1px; font-weight: 600; }
            .table-container { overflow-x: auto; }
            thead th { 
                background-color: #f1f4f9 !important; 
                text-align: left !important; 
                color: #2c3e50;
                font-weight: 700;
            }
            .cat-badge {
                padding: 4px 8px;
                border-radius: 8px;
                font-size: 0.75rem;
                font-weight: 600;
            }
        </style>
    </head>
    <body>
        <div class="header">
            <h1>üí¨ Analyse des Commentaires & Journal (Step 5)</h1>
            <p class="lead">Extraction de connaissances textuelles et suivi de sant√© des poules</p>
        </div>
        
        <div class="container pb-5">
            <!-- KPIs -->
            <div class="row mb-4">
                <div class="col-md-4">
                    <div class="stat-card">
                        <div class="stat-value">435</div>
                        <div class="stat-label">Total Segments de texte</div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="stat-card">
                        <div class="stat-value">435</div>
                        <div class="stat-label">Commentaires Th√©matiques class√©s</div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="stat-card">
                        <div class="stat-value">Albertine</div>
                        <div class="stat-label">Poule la plus cit√©e</div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-7">
                    <div class="card">
                        <h2>üìä Distribution Th√©matique</h2>
                        <div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.3.0.min.js" integrity="sha256-bO3dS6yCpk9aK4gUpNELtCiDeSYvGYnK7jFI58NQnHI=" crossorigin="anonymous"></script>                <div id="60025f25-af98-4565-92b9-76a3c1b2fea8" class="plotly-graph-div" style="height:400px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("60025f25-af98-4565-92b9-76a3c1b2fea8")) {                    Plotly.newPlot(                        "60025f25-af98-4565-92b9-76a3c1b2fea8",                        [{"hovertemplate":"Nombre=%{marker.color}\u003cbr\u003eCat\u00e9gorie=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","marker":{"color":{"dtype":"i2","bdata":"NgE7ABQADAALAAgACAAFAAIA"},"coloraxis":"coloraxis","pattern":{"shape":""}},"name":"","orientation":"h","showlegend":false,"textposition":"auto","x":{"dtype":"i2","bdata":"NgE7ABQADAALAAgACAAFAAIA"},"xaxis":"x","y":["M\u00e9t\u00e9o \u002f Environnement","Sant\u00e9 \u002f Soins","Anomalies \u0152ufs","Localisation \u0152ufs","Comportement","Installation \u002f Technique","Alimentation","Suivi de Ponte \u002f Observation","Vie du Poulailler \u002f Divers"],"yaxis":"y","type":"bar"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Nombre"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Cat\u00e9gorie"}},"coloraxis":{"colorbar":{"title":{"text":"Nombre"}},"colorscale":[[0.0,"rgb(247,251,255)"],[0.125,"rgb(222,235,247)"],[0.25,"rgb(198,219,239)"],[0.375,"rgb(158,202,225)"],[0.5,"rgb(107,174,214)"],[0.625,"rgb(66,146,198)"],[0.75,"rgb(33,113,181)"],[0.875,"rgb(8,81,156)"],[1.0,"rgb(8,48,107)"]]},"legend":{"tracegroupgap":0},"title":{"text":"Distribution des Cat\u00e9gories de Commentaires"},"barmode":"relative","margin":{"l":20,"r":20,"t":40,"b":20},"paper_bgcolor":"rgba(0,0,0,0)","plot_bgcolor":"rgba(0,0,0,0)","height":400},                        {"responsive": true}                    )                };            </script>        </div>
                    </div>
                </div>
                <div class="col-lg-5">
                    <div class="card">
                        <h2>üêî Citations par Poule</h2>
                        <div class="table-container">
                            <table border="1" class="dataframe table table-sm table-hover">
  <thead>
    <tr style="text-align: right;">
      <th>Poules_Cit√©es</th>
      <th>count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Albertine</td>
      <td>24</td>
    </tr>
    <tr>
      <td>Marans</td>
      <td>17</td>
    </tr>
    <tr>
      <td>Cun√©gonde</td>
      <td>14</td>
    </tr>
    <tr>
      <td>Pioupioute</td>
      <td>12</td>
    </tr>
    <tr>
      <td>Nina</td>
      <td>11</td>
    </tr>
    <tr>
      <td>Val√©rie</td>
      <td>10</td>
    </tr>
    <tr>
      <td>Tina</td>
      <td>9</td>
    </tr>
    <tr>
      <td>Saquiel</td>
      <td>7</td>
    </tr>
    <tr>
      <td>R√©miel</td>
      <td>5</td>
    </tr>
    <tr>
      <td>Augustine</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2>üîç Zoom sur les Cat√©gories Prioritaires</h2>
                <p class="text-muted">Extrait de commentaires significatifs par cat√©gorie :</p>
                <div class="table-container">
                    <table class="table table-sm table-hover bg-white">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Commentaire Nettoy√©</th>
                                <th>Cat√©gorie</th>
                                <th>Poules Cit√©es</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>2023-01-23</td><td>malade (moi)</td><td><span class='cat-badge bg-light text-dark'>Sant√© / Soins</span></td><td>Aucune</td></tr><tr><td>2023-01-28</td><td>Cun√©gonde pique Shrek</td><td><span class='cat-badge bg-light text-dark'>Comportement</span></td><td>Cun√©gonde, Shrek</td></tr><tr><td>2023-01-29</td><td>aliment poulette+vitamines</td><td><span class='cat-badge bg-light text-dark'>Sant√© / Soins</span></td><td>Aucune</td></tr><tr><td>2023-02-01</td><td>pas s√ªre de l'≈ìuf de Pioupioute</td><td><span class='cat-badge bg-light text-dark'>Suivi de Ponte / Observation</span></td><td>Pioupioute</td></tr><tr><td>2023-02-02</td><td>petit lait en boisson</td><td><span class='cat-badge bg-light text-dark'>Alimentation</span></td><td>Aucune</td></tr><tr><td>2023-02-02</td><td>aliment pondeuse</td><td><span class='cat-badge bg-light text-dark'>Alimentation</span></td><td>Aucune</td></tr><tr><td>2023-02-03</td><td>petit lait+aliment</td><td><span class='cat-badge bg-light text-dark'>Alimentation</span></td><td>Aucune</td></tr><tr><td>2023-02-04</td><td>petit lait+aliment</td><td><span class='cat-badge bg-light text-dark'>Alimentation</span></td><td>Aucune</td></tr><tr><td>2023-02-05</td><td>aliment</td><td><span class='cat-badge bg-light text-dark'>Alimentation</span></td><td>Aucune</td></tr><tr><td>2023-02-11</td><td>aliment+bl√©</td><td><span class='cat-badge bg-light text-dark'>Alimentation</span></td><td>Aucune</td></tr><tr><td>2023-02-18</td><td>avipar(vermifuge naturel)</td><td><span class='cat-badge bg-light text-dark'>Sant√© / Soins</span></td><td>Aucune</td></tr><tr><td>2023-02-20</td><td>antibio Pioupioute suspicion pb g√©nital</td><td><span class='cat-badge bg-light text-dark'>Sant√© / Soins</span></td><td>Pioupioute</td></tr><tr><td>2023-02-23</td><td>pluie nuit 22,√†23/02</td><td><span class='cat-badge bg-light text-dark'>M√©t√©o / Environnement</span></td><td>Aucune</td></tr><tr><td>2023-02-24</td><td>pluie nuit 23,√†24/02</td><td><span class='cat-badge bg-light text-dark'>M√©t√©o / Environnement</span></td><td>Aucune</td></tr><tr><td>2023-03-08</td><td>lentypou</td><td><span class='cat-badge bg-light text-dark'>Sant√© / Soins</span></td><td>Aucune</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="card">
                <h2>üìù M√©thodologie d'Analyse</h2>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item"><b>Explosion des donn√©es :</b> S√©paration des notations multiples pour traiter chaque observation individuellement.</li>
                    <li class="list-group-item"><b>Reconnaissance d'Entit√©s :</b> D√©tection automatique des noms de poules dans le texte libre.</li>
                    <li class="list-group-item"><b>Priorisation :</b> Si un commentaire mentionne √† la fois la sant√© et la m√©t√©o, la priorit√© est donn√©e aux aspects de sant√© pour l'alerte.</li>
                    <li class="list-group-item"><b>Journal de Bord :</b> Transformation de notes informelles en base de donn√©es structur√©e pour corr√©lation future avec la ponte.</li>
                </ul>
            </div>
        </div>
        
        <footer class="text-center py-4 text-muted border-top">
            G√©n√©r√© automatiquement par Antigravity - Analyse Commentaires Step 5 - 10/02/2026 11:28
        </footer>
    </body>
    </html>
    